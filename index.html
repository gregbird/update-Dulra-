<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Dulra Management Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .sidebar {
            scrollbar-width: thin;
            scrollbar-color: #a0aec0 #edf2f7;
        }
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }
        .sidebar::-webkit-scrollbar-track {
            background: #edf2f7;
        }
        .sidebar::-webkit-scrollbar-thumb {
            background-color: #a0aec0;
            border-radius: 10px;
            border: 3px solid #edf2f7;
        }
        .collapsible-content {
            transition: max-height 0.3s ease-out;
            overflow: hidden;
        }
        .list-item-card:hover {
            transform: translateX(4px);
            border-left-color: #2f855a; /* green-700 */
            background-color: #f9fafb; /* gray-50 */
        }
    </style>
</head>
<body class="bg-gray-100 h-screen flex">

    <!-- Sidebar -->
    <aside class="w-72 bg-white shadow-lg flex flex-col p-4 border-r border-gray-200 sidebar">
        <div class="text-2xl font-bold text-green-700 flex items-center mb-8">
            <i class="fas fa-leaf mr-3"></i>
            <span>Dulra</span>
        </div>
        <nav class="flex flex-col space-y-1 flex-grow overflow-y-auto pr-2">
            <a href="#" id="dashboard-link" class="flex items-center p-3 bg-green-100 text-green-800 rounded-lg font-semibold">
                <i class="fas fa-tachometer-alt w-6 text-center"></i>
                <span class="ml-4">Dashboard</span>
            </a>
            
            <!-- Year Section -->
            <div>
                <button class="collapsible-btn w-full flex justify-between items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                    <div class="flex items-center">
                        <i class="fas fa-calendar-alt w-6 text-center"></i>
                        <span class="ml-4 font-semibold">Year</span>
                    </div>
                    <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                </button>
                <div class="collapsible-content hidden pl-8 mt-1 space-y-1">
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">2026</a>
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">2025</a>
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">2024</a>
                </div>
            </div>

            <!-- Applications Section -->
            <div>
                <button class="collapsible-btn w-full flex justify-between items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                    <div class="flex items-center">
                        <i class="fas fa-folder-plus w-6 text-center"></i>
                        <span class="ml-4 font-semibold">Applications</span>
                    </div>
                    <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                </button>
                <div class="collapsible-content hidden pl-8 mt-1 space-y-1">
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">By County</a>
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">By Action</a>
                </div>
            </div>

            <!-- Implementation Section -->
            <div>
                <button class="collapsible-btn w-full flex justify-between items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                     <div class="flex items-center">
                        <i class="fas fa-tasks w-6 text-center"></i>
                        <span class="ml-4 font-semibold">Implementation</span>
                    </div>
                    <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                </button>
                <div class="collapsible-content hidden pl-8 mt-1 space-y-1">
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">By County</a>
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">By Action</a>
                </div>
            </div>

            <!-- Surveys Section -->
            <a href="#" id="surveys-link" class="flex items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                <div class="flex items-center">
                    <i class="fas fa-poll w-6 text-center"></i>
                    <span class="ml-4 font-semibold">Surveys</span>
                </div>
            </a>

            <!-- Assessments Section -->
            <div>
                <button class="collapsible-btn w-full flex justify-between items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                    <div class="flex items-center">
                        <i class="fas fa-clipboard-check w-6 text-center"></i>
                        <span class="ml-4 font-semibold">Assessments</span>
                    </div>
                    <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                </button>
                <div class="collapsible-content hidden pl-8 mt-1 space-y-1">
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">By County</a>
                    <a href="#" class="block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md">By Action</a>
                </div>
            </div>

            <!-- Communication Section -->
            <div>
                <button class="collapsible-btn w-full flex justify-between items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                    <div class="flex items-center">
                        <i class="fas fa-bullhorn w-6 text-center"></i>
                        <span class="ml-4 font-semibold">Communication</span>
                    </div>
                    <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                </button>
                <div class="collapsible-content hidden pl-8 mt-1 space-y-1">
                    <a href="#" class="comm-link block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md" data-filter="county">By County</a>
                    <a href="#" class="comm-link block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md" data-filter="action">By Action</a>
                </div>
            </div>

            <!-- Team Members Section -->
            <div>
                <button class="collapsible-btn w-full flex justify-between items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                    <div class="flex items-center">
                        <i class="fas fa-users w-6 text-center"></i>
                        <span class="ml-4 font-semibold">Team Members</span>
                    </div>
                    <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                </button>
                <div class="collapsible-content hidden pl-8 mt-1 space-y-1">
                    <a href="#" class="team-link block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md" data-filter="county">By County</a>
                    <a href="#" class="team-link block p-2 text-sm text-gray-500 hover:bg-gray-100 rounded-md" data-filter="action">By Action</a>
                </div>
            </div>

             <!-- Reports Section -->
             <div>
                <button class="collapsible-btn w-full flex justify-between items-center p-3 text-gray-600 hover:bg-gray-200 rounded-lg text-left">
                    <div class="flex items-center">
                        <i class="fas fa-chart-pie w-6 text-center"></i>
                        <span class="ml-4 font-semibold">Reports</span>
                    </div>
                    <i class="fas fa-chevron-down transform transition-transform duration-200"></i>
                </button>
                <div class="collapsible-content hidden pl-4 mt-1 space-y-1">
                    <!-- Private Funders Sub-section -->
                    <div class="pl-4">
                         <button class="collapsible-btn w-full flex justify-between items-center p-2 text-gray-500 hover:bg-gray-100 rounded-lg text-left">
                            <span class="text-sm font-semibold">Private Funders</span>
                            <i class="fas fa-chevron-down transform transition-transform duration-200 text-xs"></i>
                        </button>
                        <div class="collapsible-content hidden pl-6 mt-1 space-y-1">
                            <a href="#" class="block p-1.5 text-xs text-gray-500 hover:bg-gray-100 rounded-md">County</a>
                            <a href="#" class="block p-1.5 text-xs text-gray-500 hover:bg-gray-100 rounded-md">ESG Report</a>
                            <a href="#" class="block p-1.5 text-xs text-gray-500 hover:bg-gray-100 rounded-md">CSRD Report</a>
                        </div>
                    </div>
                    <!-- Public Funders Sub-section -->
                    <div class="pl-4">
                         <button class="collapsible-btn w-full flex justify-between items-center p-2 text-gray-500 hover:bg-gray-100 rounded-lg text-left">
                            <span class="text-sm font-semibold">Public Funders</span>
                            <i class="fas fa-chevron-down transform transition-transform duration-200 text-xs"></i>
                        </button>
                        <div class="collapsible-content hidden pl-6 mt-1 space-y-1">
                            <a href="#" class="block p-1.5 text-xs text-gray-500 hover:bg-gray-100 rounded-md">County</a>
                            <a href="#" class="block p-1.5 text-xs text-gray-500 hover:bg-gray-100 rounded-md">EU Restoration Targets</a>
                            <a href="#" class="block p-1.5 text-xs text-gray-500 hover:bg-gray-100 rounded-md">EU Habitat Directive</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <div class="mt-auto p-4 bg-gray-50 rounded-lg text-center">
            <p class="text-sm">Welcome, <span class="font-bold">Helen</span>!</p>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-8 overflow-y-auto">
        <!-- Header -->
        <header class="flex justify-between items-center mb-8">
            <h1 id="page-title" class="text-3xl font-bold text-gray-800">Projects Dashboard</h1>
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    <input id="search-input" type="text" placeholder="Search projects..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-full w-64 focus:ring-2 focus:ring-green-300 focus:outline-none transition-all">
                </div>
                <button id="add-project-btn" class="bg-green-600 text-white px-4 py-2 rounded-full font-semibold hover:bg-green-700 transition-all shadow-md">
                    <i class="fas fa-plus mr-2"></i>New Project
                </button>
            </div>
        </header>

        <!-- Dynamic Content Area -->
        <div id="content-area">
            <!-- Content will be rendered here by JavaScript -->
        </div>
    </main>

    <!-- Modals -->
    <div id="new-project-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <!-- Modal Content -->
    </div>
    <div id="assessment-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <!-- Modal Content -->
    </div>
    <div id="survey-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <!-- Modal Content -->
    </div>
    <div id="communication-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <!-- Modal Content -->
    </div>
    <div id="toast-notification" class="fixed top-5 right-5 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg opacity-0 transform -translate-y-10 transition-all duration-300">
        Message sent successfully!
    </div>


    <script>
        // --- DATA STORE ---
        // Mock database for the MVP
        
        const surveyTemplates = [
            { id: 1, name: 'Application', description: 'Initial application form for landowners.', questionCount: 8, icon: 'fa-folder-plus', questions: [] },
            { id: 2, name: 'Plan for Nature', description: 'Feedback survey for the ecological plan service.', questionCount: 6, icon: 'fa-feather-alt', questions: [] },
            { id: 3, name: 'Wildlife Pond', description: 'Pre-implementation questions for pond projects.', questionCount: 7, icon: 'fa-water', questions: [] },
            { id: 4, name: 'Post Project Survey', description: 'General feedback survey for completed projects.', questionCount: 5, icon: 'fa-award', questions: [] },
            { 
                id: 5, 
                name: 'Pond Assessment', 
                description: 'Detailed on-site assessment for wildlife ponds.', 
                questionCount: 15,
                icon: 'fa-vial',
                questions: [
                    { type: 'text', label: 'HC Participant' },
                    { type: 'date', label: 'Date of Visit' },
                    { type: 'text', label: 'Eircode' },
                    { type: 'text', label: 'Surveyor' },
                    { type: 'tel', label: 'Phone Number' },
                    { type: 'radio', label: 'Fixed Point Photo taken?', options: ['Yes', 'No']



